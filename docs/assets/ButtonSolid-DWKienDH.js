import{g as Le,h as Fe,i as Ue,o as qe,c as Me,r as ze}from"./index-CcloLO3_.js";var Ee;(function(r){r.csv="text/csv",r.tsv="text/tab-separated-values",r.plain="text/plain"})(Ee||(Ee={}));var ce=r=>r,K=r=>r,pe=ce,_e=ce,he=ce,Re=ce,Se=ce,Be={fieldSeparator:",",decimalSeparator:".",quoteStrings:!0,quoteCharacter:'"',showTitle:!1,title:"My Generated Report",filename:"generated",showColumnHeaders:!0,useTextFile:!1,fileExtension:"csv",mediaType:Ee.csv,useBom:!0,columnHeaders:[],useKeysAsHeaders:!1,boolDisplay:{true:"TRUE",false:"FALSE"},replaceUndefinedWith:""},Pe=`\r
`,je="\uFEFF",ve=r=>Object.assign({},Be,r);class Ne extends Error{constructor(n){super(n),this.name="CsvGenerationError"}}class He extends Error{constructor(n){super(n),this.name="EmptyHeadersError"}}class Ke extends Error{constructor(n){super(n),this.name="CsvDownloadEnvironmentError"}}class Je extends Error{constructor(n){super(n),this.name="UnsupportedDataFormatError"}}var Qe=function(r,n){return n=='"'&&r.indexOf('"')>-1?r.replace(/"/g,'""'):r},Ge=r=>Re(typeof r=="object"?r.key:r),Ve=r=>Se(typeof r=="object"?r.displayLabel:r),Ze=(r,...n)=>n.reduce((p,c)=>c(p),r),Ye=r=>n=>r.useBom?_e(K(n)+je):n,Xe=r=>n=>r.showTitle?we(_e(K(n)+r.title))(he("")):n,we=r=>n=>_e(K(r)+K(n)+Pe),Te=r=>(n,p)=>We(r)(he(K(n)+K(p))),We=r=>n=>ce(K(n)+r.fieldSeparator),$e=(r,n)=>p=>{if(!r.showColumnHeaders)return p;if(n.length<1)throw new He("Option to show headers but none supplied. Make sure there are keys in your collection or that you've supplied headers through the config options.");let c=he("");for(let E=0;E<n.length;E++){const H=Ve(n[E]);c=Te(r)(c,Ae(r,K(H)))}return c=he(K(c).slice(0,-1)),we(p)(c)},et=(r,n,p)=>c=>{let E=c;for(var H=0;H<p.length;H++){let L=he("");for(let oe=0;oe<n.length;oe++){const h=Ge(n[oe]),ee=p[H][K(h)];L=Te(r)(L,Ae(r,ee))}L=he(K(L).slice(0,-1)),E=we(E)(L)}return E},tt=r=>+r===r&&(!isFinite(r)||!!(r%1)),rt=(r,n)=>{if(tt(n)){if(r.decimalSeparator==="locale")return pe(n.toLocaleString());if(r.decimalSeparator)return pe(n.toString().replace(".",r.decimalSeparator))}return pe(n.toString())},me=(r,n)=>{let p=n;return(r.quoteStrings||r.fieldSeparator&&n.indexOf(r.fieldSeparator)>-1||r.quoteCharacter&&n.indexOf(r.quoteCharacter)>-1||n.indexOf(`
`)>-1||n.indexOf("\r")>-1)&&(p=r.quoteCharacter+Qe(n,r.quoteCharacter)+r.quoteCharacter),pe(p)},nt=(r,n)=>{const p=n?"true":"false";return pe(r.boolDisplay[p])},it=(r,n)=>typeof n>"u"&&r.replaceUndefinedWith!==void 0?me(r,r.replaceUndefinedWith+""):n===null?me(r,"null"):me(r,""),Ae=(r,n)=>{if(typeof n=="number")return rt(r,n);if(typeof n=="string")return me(r,n);if(typeof n=="boolean"&&r.boolDisplay)return nt(r,n);if(n===null||typeof n>"u")return it(r,n);throw new Je(`
    typeof ${typeof n} isn't supported. Only number, string, boolean, null and undefined are supported.
    Please convert the data in your object to one of those before generating the CSV.
    `)},st=r=>n=>{const p=ve(r),c=p.useKeysAsHeaders?Object.keys(n[0]):p.columnHeaders;let E=Ze(_e(""),Ye(p),Xe(p),$e(p,c),et(p,c,n));if(K(E).length<1)throw new Ne("Output is empty. Is your data formatted correctly?");return E},at=r=>n=>{const p=ve(r),c=K(n),E=p.useTextFile?"text/plain":p.mediaType;return new Blob([c],{type:`${E};charset=utf8;`})},ot=r=>n=>{if(!window)throw new Ke("Downloading only supported in a browser environment.");const p=at(r)(n),c=ve(r),E=c.useTextFile?"txt":c.fileExtension,H=`${c.filename}.${E}`,L=document.createElement("a");L.download=H,L.href=URL.createObjectURL(p),L.setAttribute("visibility","hidden"),document.body.appendChild(L),L.click(),document.body.removeChild(L)},ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ie={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(r,n){(function(p,c){r.exports=c()})(ut,function p(){var c=typeof self<"u"?self:typeof window<"u"?window:c!==void 0?c:{},E=!c.document&&!!c.postMessage,H=c.IS_PAPA_WORKER||!1,L={},oe=0,h={parse:function(t,e){var i=(e=e||{}).dynamicTyping||!1;if(y(i)&&(e.dynamicTypingFunction=i,i={}),e.dynamicTyping=i,e.transform=!!y(e.transform)&&e.transform,e.worker&&h.WORKERS_SUPPORTED){var s=function(){if(!h.WORKERS_SUPPORTED)return!1;var d=(M=c.URL||c.webkitURL||null,S=p.toString(),h.BLOB_URL||(h.BLOB_URL=M.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",S,")();"],{type:"text/javascript"})))),g=new c.Worker(d),M,S;return g.onmessage=De,g.id=oe++,L[g.id]=g}();return s.userStep=e.step,s.userChunk=e.chunk,s.userComplete=e.complete,s.userError=e.error,e.step=y(e.step),e.chunk=y(e.chunk),e.complete=y(e.complete),e.error=y(e.error),delete e.worker,void s.postMessage({input:t,config:e,workerId:s.id})}var o=null;return h.NODE_STREAM_INPUT,typeof t=="string"?(t=function(d){return d.charCodeAt(0)===65279?d.slice(1):d}(t),o=e.download?new _(e):new R(e)):t.readable===!0&&y(t.read)&&y(t.on)?o=new N(e):(c.File&&t instanceof File||t instanceof Object)&&(o=new C(e)),o.stream(t)},unparse:function(t,e){var i=!1,s=!0,o=",",d=`\r
`,g='"',M=g+g,S=!1,u=null,A=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||h.BAD_DELIMITERS.filter(function(a){return e.delimiter.indexOf(a)!==-1}).length||(o=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(i=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(S=e.skipEmptyLines),typeof e.newline=="string"&&(d=e.newline),typeof e.quoteChar=="string"&&(g=e.quoteChar),typeof e.header=="boolean"&&(s=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");u=e.columns}e.escapeChar!==void 0&&(M=e.escapeChar+g),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(A=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var f=new RegExp(W(g),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return Y(null,t,S);if(typeof t[0]=="object")return Y(u||Object.keys(t[0]),t,S)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||u),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),Y(t.fields||[],t.data||[],S);throw new Error("Unable to serialize unrecognized input");function Y(a,w,P){var T="";typeof a=="string"&&(a=JSON.parse(a)),typeof w=="string"&&(w=JSON.parse(w));var z=Array.isArray(a)&&0<a.length,U=!Array.isArray(w[0]);if(z&&s){for(var q=0;q<a.length;q++)0<q&&(T+=o),T+=B(a[q],q);0<w.length&&(T+=d)}for(var l=0;l<w.length;l++){var m=z?a.length:w[l].length,x=!1,F=z?Object.keys(w[l]).length===0:w[l].length===0;if(P&&!z&&(x=P==="greedy"?w[l].join("").trim()==="":w[l].length===1&&w[l][0].length===0),P==="greedy"&&z){for(var b=[],j=0;j<m;j++){var I=U?a[j]:j;b.push(w[l][I])}x=b.join("").trim()===""}if(!x){for(var k=0;k<m;k++){0<k&&!F&&(T+=o);var X=z&&U?a[k]:k;T+=B(w[l][X],k)}l<w.length-1&&(!P||0<m&&!F)&&(T+=d)}}return T}function B(a,w){if(a==null)return"";if(a.constructor===Date)return JSON.stringify(a).slice(1,25);var P=!1;A&&typeof a=="string"&&A.test(a)&&(a="'"+a,P=!0);var T=a.toString().replace(f,M);return(P=P||i===!0||typeof i=="function"&&i(a,w)||Array.isArray(i)&&i[w]||function(z,U){for(var q=0;q<U.length;q++)if(-1<z.indexOf(U[q]))return!0;return!1}(T,h.BAD_DELIMITERS)||-1<T.indexOf(o)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?g+T+g:T}}};if(h.RECORD_SEP="",h.UNIT_SEP="",h.BYTE_ORDER_MARK="\uFEFF",h.BAD_DELIMITERS=["\r",`
`,'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!E&&!!c.Worker,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=ye,h.ParserHandle=de,h.NetworkStreamer=_,h.FileStreamer=C,h.StringStreamer=R,h.ReadableStreamStreamer=N,c.jQuery){var ee=c.jQuery;ee.fn.parse=function(t){var e=t.config||{},i=[];return this.each(function(d){if(!(ee(this).prop("tagName").toUpperCase()==="INPUT"&&ee(this).attr("type").toLowerCase()==="file"&&c.FileReader)||!this.files||this.files.length===0)return!0;for(var g=0;g<this.files.length;g++)i.push({file:this.files[g],inputElem:this,instanceConfig:ee.extend({},e)})}),s(),this;function s(){if(i.length!==0){var d,g,M,S,u=i[0];if(y(t.before)){var A=t.before(u.file,u.inputElem);if(typeof A=="object"){if(A.action==="abort")return d="AbortError",g=u.file,M=u.inputElem,S=A.reason,void(y(t.error)&&t.error({name:d},g,M,S));if(A.action==="skip")return void o();typeof A.config=="object"&&(u.instanceConfig=ee.extend(u.instanceConfig,A.config))}else if(A==="skip")return void o()}var f=u.instanceConfig.complete;u.instanceConfig.complete=function(Y){y(f)&&f(Y,u.file,u.inputElem),o()},h.parse(u.file,u.instanceConfig)}else y(t.complete)&&t.complete()}function o(){i.splice(0,1),s()}}}function Z(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var i=be(e);i.chunkSize=parseInt(i.chunkSize),e.step||e.chunk||(i.chunkSize=null),this._handle=new de(i),(this._handle.streamer=this)._config=i}).call(this,t),this.parseChunk=function(e,i){if(this.isFirstChunk&&y(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);s!==void 0&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var o=this._partialLine+e;this._partialLine="";var d=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var g=d.meta.cursor;this._finished||(this._partialLine=o.substring(g-this._baseIndex),this._baseIndex=g),d&&d.data&&(this._rowCount+=d.data.length);var M=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(H)c.postMessage({results:d,workerId:h.WORKER_ID,finished:M});else if(y(this._config.chunk)&&!i){if(this._config.chunk(d,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);d=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(d.data),this._completeResults.errors=this._completeResults.errors.concat(d.errors),this._completeResults.meta=d.meta),this._completed||!M||!y(this._config.complete)||d&&d.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||d&&d.meta.paused||this._nextChunk(),d}this._halted=!0},this._sendError=function(e){y(this._config.error)?this._config.error(e):H&&this._config.error&&c.postMessage({workerId:h.WORKER_ID,error:e,finished:!1})}}function _(t){var e;(t=t||{}).chunkSize||(t.chunkSize=h.RemoteChunkSize),Z.call(this,t),this._nextChunk=E?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(i){this._input=i,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),E||(e.onload=ne(this._chunkLoaded,this),e.onerror=ne(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!E),this._config.downloadRequestHeaders){var i=this._config.downloadRequestHeaders;for(var s in i)e.setRequestHeader(s,i[s])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o)}try{e.send(this._config.downloadRequestBody)}catch(d){this._chunkError(d.message)}E&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(i){var s=i.getResponseHeader("Content-Range");return s===null?-1:parseInt(s.substring(s.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(i){var s=e.statusText||i;this._sendError(new Error(s))}}function C(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=h.LocalChunkSize),Z.call(this,t);var s=typeof FileReader<"u";this.stream=function(o){this._input=o,i=o.slice||o.webkitSlice||o.mozSlice,s?((e=new FileReader).onload=ne(this._chunkLoaded,this),e.onerror=ne(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var o=this._input;if(this._config.chunkSize){var d=Math.min(this._start+this._config.chunkSize,this._input.size);o=i.call(o,this._start,d)}var g=e.readAsText(o,this._config.encoding);s||this._chunkLoaded({target:{result:g}})},this._chunkLoaded=function(o){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(o.target.result)},this._chunkError=function(){this._sendError(e.error)}}function R(t){var e;Z.call(this,t=t||{}),this.stream=function(i){return e=i,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var i,s=this._config.chunkSize;return s?(i=e.substring(0,s),e=e.substring(s)):(i=e,e=""),this._finished=!e,this.parseChunk(i)}}}function N(t){Z.call(this,t=t||{});var e=[],i=!0,s=!1;this.pause=function(){Z.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){Z.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(o){this._input=o,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=ne(function(o){try{e.push(typeof o=="string"?o:o.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(d){this._streamError(d)}},this),this._streamError=ne(function(o){this._streamCleanUp(),this._sendError(o)},this),this._streamEnd=ne(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=ne(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function de(t){var e,i,s,o=Math.pow(2,53),d=-o,g=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,S=this,u=0,A=0,f=!1,Y=!1,B=[],a={data:[],errors:[],meta:{}};if(y(t.step)){var w=t.step;t.step=function(l){if(a=l,z())T();else{if(T(),a.data.length===0)return;u+=l.data.length,t.preview&&u>t.preview?i.abort():(a.data=a.data[0],w(a,S))}}}function P(l){return t.skipEmptyLines==="greedy"?l.join("").trim()==="":l.length===1&&l[0].length===0}function T(){return a&&s&&(q("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines&&(a.data=a.data.filter(function(l){return!P(l)})),z()&&function(){if(!a)return;function l(x,F){y(t.transformHeader)&&(x=t.transformHeader(x,F)),B.push(x)}if(Array.isArray(a.data[0])){for(var m=0;z()&&m<a.data.length;m++)a.data[m].forEach(l);a.data.splice(0,1)}else a.data.forEach(l)}(),function(){if(!a||!t.header&&!t.dynamicTyping&&!t.transform)return a;function l(x,F){var b,j=t.header?{}:[];for(b=0;b<x.length;b++){var I=b,k=x[b];t.header&&(I=b>=B.length?"__parsed_extra":B[b]),t.transform&&(k=t.transform(k,I)),k=U(I,k),I==="__parsed_extra"?(j[I]=j[I]||[],j[I].push(k)):j[I]=k}return t.header&&(b>B.length?q("FieldMismatch","TooManyFields","Too many fields: expected "+B.length+" fields but parsed "+b,A+F):b<B.length&&q("FieldMismatch","TooFewFields","Too few fields: expected "+B.length+" fields but parsed "+b,A+F)),j}var m=1;return!a.data.length||Array.isArray(a.data[0])?(a.data=a.data.map(l),m=a.data.length):a.data=l(a.data,0),t.header&&a.meta&&(a.meta.fields=B),A+=m,a}()}function z(){return t.header&&B.length===0}function U(l,m){return x=l,t.dynamicTypingFunction&&t.dynamicTyping[x]===void 0&&(t.dynamicTyping[x]=t.dynamicTypingFunction(x)),(t.dynamicTyping[x]||t.dynamicTyping)===!0?m==="true"||m==="TRUE"||m!=="false"&&m!=="FALSE"&&(function(F){if(g.test(F)){var b=parseFloat(F);if(d<b&&b<o)return!0}return!1}(m)?parseFloat(m):M.test(m)?new Date(m):m===""?null:m):m;var x}function q(l,m,x,F){var b={type:l,code:m,message:x};F!==void 0&&(b.row=F),a.errors.push(b)}this.parse=function(l,m,x){var F=t.quoteChar||'"';if(t.newline||(t.newline=function(I,k){I=I.substring(0,1048576);var X=new RegExp(W(k)+"([^]*?)"+W(k),"gm"),J=(I=I.replace(X,"")).split("\r"),$=I.split(`
`),te=1<$.length&&$[0].length<J[0].length;if(J.length===1||te)return`
`;for(var Q=0,O=0;O<J.length;O++)J[O][0]===`
`&&Q++;return Q>=J.length/2?`\r
`:"\r"}(l,F)),s=!1,t.delimiter)y(t.delimiter)&&(t.delimiter=t.delimiter(l),a.meta.delimiter=t.delimiter);else{var b=function(I,k,X,J,$){var te,Q,O,D;$=$||[",","	","|",";",h.RECORD_SEP,h.UNIT_SEP];for(var ue=0;ue<$.length;ue++){var v=$[ue],fe=0,re=0,le=0;O=void 0;for(var ie=new ye({comments:J,delimiter:v,newline:k,preview:10}).parse(I),se=0;se<ie.data.length;se++)if(X&&P(ie.data[se]))le++;else{var ae=ie.data[se].length;re+=ae,O!==void 0?0<ae&&(fe+=Math.abs(ae-O),O=ae):O=ae}0<ie.data.length&&(re/=ie.data.length-le),(Q===void 0||fe<=Q)&&(D===void 0||D<re)&&1.99<re&&(Q=fe,te=v,D=re)}return{successful:!!(t.delimiter=te),bestDelimiter:te}}(l,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);b.successful?t.delimiter=b.bestDelimiter:(s=!0,t.delimiter=h.DefaultDelimiter),a.meta.delimiter=t.delimiter}var j=be(t);return t.preview&&t.header&&j.preview++,e=l,i=new ye(j),a=i.parse(e,m,x),T(),f?{meta:{paused:!0}}:a||{meta:{paused:!1}}},this.paused=function(){return f},this.pause=function(){f=!0,i.abort(),e=y(t.chunk)?"":e.substring(i.getCharIndex())},this.resume=function(){S.streamer._halted?(f=!1,S.streamer.parseChunk(e,!0)):setTimeout(S.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,i.abort(),a.meta.aborted=!0,y(t.complete)&&t.complete(a),e=""}}function W(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ye(t){var e,i=(t=t||{}).delimiter,s=t.newline,o=t.comments,d=t.step,g=t.preview,M=t.fastMode,S=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(S=t.escapeChar),(typeof i!="string"||-1<h.BAD_DELIMITERS.indexOf(i))&&(i=","),o===i)throw new Error("Comment character same as delimiter");o===!0?o="#":(typeof o!="string"||-1<h.BAD_DELIMITERS.indexOf(o))&&(o=!1),s!==`
`&&s!=="\r"&&s!==`\r
`&&(s=`
`);var u=0,A=!1;this.parse=function(f,Y,B){if(typeof f!="string")throw new Error("Input must be a string");var a=f.length,w=i.length,P=s.length,T=o.length,z=y(d),U=[],q=[],l=[],m=u=0;if(!f)return G();if(t.header&&!Y){var x=f.split(s)[0].split(i),F=[],b={},j=!1;for(var I in x){var k=x[I];y(t.transformHeader)&&(k=t.transformHeader(k,I));var X=k,J=b[k]||0;for(0<J&&(j=!0,X=k+"_"+J),b[k]=J+1;F.includes(X);)X=X+"_"+J;F.push(X)}if(j){var $=f.split(s);$[0]=F.join(i),f=$.join(s)}}if(M||M!==!1&&f.indexOf(e)===-1){for(var te=f.split(s),Q=0;Q<te.length;Q++){if(l=te[Q],u+=l.length,Q!==te.length-1)u+=s.length;else if(B)return G();if(!o||l.substring(0,T)!==o){if(z){if(U=[],le(l.split(i)),ge(),A)return G()}else le(l.split(i));if(g&&g<=Q)return U=U.slice(0,g),G(!0)}}return G()}for(var O=f.indexOf(i,u),D=f.indexOf(s,u),ue=new RegExp(W(S)+W(e),"g"),v=f.indexOf(e,u);;)if(f[u]!==e)if(o&&l.length===0&&f.substring(u,u+T)===o){if(D===-1)return G();u=D+P,D=f.indexOf(s,u),O=f.indexOf(i,u)}else if(O!==-1&&(O<D||D===-1))l.push(f.substring(u,O)),u=O+w,O=f.indexOf(i,u);else{if(D===-1)break;if(l.push(f.substring(u,D)),ae(D+P),z&&(ge(),A))return G();if(g&&U.length>=g)return G(!0)}else for(v=u,u++;;){if((v=f.indexOf(e,v+1))===-1)return B||q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:U.length,index:u}),se();if(v===a-1)return se(f.substring(u,v).replace(ue,e));if(e!==S||f[v+1]!==S){if(e===S||v===0||f[v-1]!==S){O!==-1&&O<v+1&&(O=f.indexOf(i,v+1)),D!==-1&&D<v+1&&(D=f.indexOf(s,v+1));var fe=ie(D===-1?O:Math.min(O,D));if(f.substr(v+1+fe,w)===i){l.push(f.substring(u,v).replace(ue,e)),f[u=v+1+fe+w]!==e&&(v=f.indexOf(e,u)),O=f.indexOf(i,u),D=f.indexOf(s,u);break}var re=ie(D);if(f.substring(v+1+re,v+1+re+P)===s){if(l.push(f.substring(u,v).replace(ue,e)),ae(v+1+re+P),O=f.indexOf(i,u),v=f.indexOf(e,u),z&&(ge(),A))return G();if(g&&U.length>=g)return G(!0);break}q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:U.length,index:u}),v++}}else v++}return se();function le(V){U.push(V),m=u}function ie(V){var Oe=0;if(V!==-1){var ke=f.substring(v+1,V);ke&&ke.trim()===""&&(Oe=ke.length)}return Oe}function se(V){return B||(V===void 0&&(V=f.substring(u)),l.push(V),u=a,le(l),z&&ge()),G()}function ae(V){u=V,le(l),l=[],D=f.indexOf(s,u)}function G(V){return{data:U,errors:q,meta:{delimiter:i,linebreak:s,aborted:A,truncated:!!V,cursor:m+(Y||0)}}}function ge(){d(G()),U=[],q=[]}},this.abort=function(){A=!0},this.getCharIndex=function(){return u}}function De(t){var e=t.data,i=L[e.workerId],s=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){s=!0,Ce(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:xe,resume:xe};if(y(i.userStep)){for(var d=0;d<e.results.data.length&&(i.userStep({data:e.results.data[d],errors:e.results.errors,meta:e.results.meta},o),!s);d++);delete e.results}else y(i.userChunk)&&(i.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!s&&Ce(e.workerId,e.results)}function Ce(t,e){var i=L[t];y(i.userComplete)&&i.userComplete(e),i.terminate(),delete L[t]}function xe(){throw new Error("Not implemented.")}function be(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=be(t[i]);return e}function ne(t,e){return function(){t.apply(e,arguments)}}function y(t){return typeof t=="function"}return H&&(c.onmessage=function(t){var e=t.data;if(h.WORKER_ID===void 0&&e&&(h.WORKER_ID=e.workerId),typeof e.input=="string")c.postMessage({workerId:h.WORKER_ID,results:h.parse(e.input,e.config),finished:!0});else if(c.File&&e.input instanceof File||e.input instanceof Object){var i=h.parse(e.input,e.config);i&&c.postMessage({workerId:h.WORKER_ID,results:i,finished:!0})}}),(_.prototype=Object.create(Z.prototype)).constructor=_,(C.prototype=Object.create(Z.prototype)).constructor=C,(R.prototype=Object.create(R.prototype)).constructor=R,(N.prototype=Object.create(Z.prototype)).constructor=N,h})})(Ie);var lt=Ie.exports;const ft=[{name:"Bob's Part",event:"jumprope",people:"Bob",percentage:""},{name:"",event:"yoyo",people:"Joe, John",percentage:""},{name:"",event:"dance",people:"Joe",percentage:"100"},{name:"",event:"dance",people:"Billy, John",percentage:""},{name:"",event:"singing",people:"Amy",percentage:""}],mt=Le("entries",()=>{let r=JSON.parse(localStorage.getItem("entries")??"null")??ft;const n=Fe(r);Ue(n,_=>{localStorage.setItem("entries",JSON.stringify(_))});function p(){n.value=n.value.concat([{name:"",event:"",people:"",percentage:""}])}function c(_){n.value=n.value.slice(0,_).concat(n.value.slice(_+1))}function E(_,C){n.value=n.value.map((R,N)=>_===N?{...R,name:C}:{...R})}function H(_,C){n.value=n.value.map((R,N)=>_===N?{...R,event:C}:{...R})}function L(_,C){n.value=n.value.map((R,N)=>_===N?{...R,people:C}:{...R})}function oe(_,C){n.value=n.value.map((R,N)=>_===N?{...R,percentage:C}:{...R})}function h(){return n.value.map(_=>{let C=null;try{C=parseFloat(_.percentage),isNaN(C)&&(C=null)}catch{}return{name:_.name.trim(),event:_.event.trim(),people:_.people.split(",").map(R=>R.trim()),percentage:C}})}function ee(){const _=ve({useKeysAsHeaders:!0,filename:"entries"}),C=st(_)(n.value);ot(_)(C)}async function Z(_){const C=_.target;if(C&&C.files){const R=await C.files[0].text(),{data:N,errors:de}=lt.parse(R,{header:!0,dynamicTyping:!0,skipEmptyLines:!0});de.length>0?(alert("Issue processing CSV!"),console.error(de)):n.value=N.map(W=>({name:W.name??"",event:W.event??"",people:W.people??"",percentage:W.percentage??""}))}}return{entries:n,addEntry:p,removeEntry:c,updateName:E,updateEvent:H,updatePeople:L,updatePercentage:oe,getProcessedValue:h,downloadCsv:ee,uploadCsv:Z}}),ht=(r,n)=>{const p=r.__vccOpts||r;for(const[c,E]of n)p[c]=E;return p},ct={},dt={type:"button",class:"block rounded-md bg-indigo-600 px-3 py-2 text-center text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"};function pt(r,n){return qe(),Me("button",dt,[ze(r.$slots,"default")])}const _t=ht(ct,[["render",pt]]);export{st as B,ve as G,ot as L,_t as a,mt as u};
